<fox-element name="fox-json" attributes="json">

    <script>

		fox('fox-json', {
			lifecycle : {
                created: function() {
                    // property
                    this.data = this.getValue();
                },

				jsonChanged : function(oldVal, newVal) {
					fox.fireEvent(this, 'data-change', {
						'detail' : {
							oldVal : oldVal,
							newVal : newVal
						}
					});

                    // property
                    this.data = this.getValue();
				}
			},

            methods: {
                getValue: function() {
                    return JSON.parse(this.json);
                },

                setValue: function(jsonObj) {

                    if (jsonObj) {
                        this.json = JSON.stringify(jsonObj);
                    }
                }
            }

		});
    </script>

</fox-element>
